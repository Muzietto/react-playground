define(['exports', '../actions/actions', '../misc/util'], function (exports, _actions, _util) {
  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.mainReducer = undefined;

  var _util2 = _interopRequireDefault(_util);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  }

  function mainReducer(state, action) {
    switch (action.type) {
      case _actions.ActionTypes.USER_ENTERS_GROUP:
        var updatedUserGroup = Object.assign({}, state.user_group, state.user_group[action.idUser].concat([action.idGroup]));
        var updatedGroupUser = Object.assign({}, state.group_user, state.group_user[action.idGroup].concat([action.idUser]));
        return {
          user_group: updatedUserGroup,
          group_user: updatedGroupUser
        };
      case _actions.ActionTypes.USER_LEAVES_GROUP:
        var updatedUserGroup = Object.assign({}, state.user_group, state.user_group[action.idUser].filter(gId => gId !== action.idGroup));
        var updatedGroupUser = Object.assign({}, state.group_user, state.group_user[action.idGroup].filter(uId => uId !== action.idUser));
        return {
          user_group: updatedUserGroup,
          group_user: updatedGroupUser
        };
      default:
        return state;
    }
  }

  exports.mainReducer = mainReducer;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2pzeC9yZWR1Y2Vycy9tYWluUmVkdWNlci5qc3giXSwibmFtZXMiOlsibWFpblJlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJVU0VSX0VOVEVSU19HUk9VUCIsInVwZGF0ZWRVc2VyR3JvdXAiLCJPYmplY3QiLCJhc3NpZ24iLCJ1c2VyX2dyb3VwIiwiaWRVc2VyIiwiY29uY2F0IiwiaWRHcm91cCIsInVwZGF0ZWRHcm91cFVzZXIiLCJncm91cF91c2VyIiwiVVNFUl9MRUFWRVNfR1JPVVAiLCJmaWx0ZXIiLCJnSWQiLCJ1SWQiXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBS0EsV0FBU0EsV0FBVCxDQUFxQkMsS0FBckIsRUFBNEJDLE1BQTVCLEVBQW9DO0FBQ2xDLFlBQVFBLE9BQU9DLElBQWY7QUFDRSxXQUFLLHFCQUFZQyxpQkFBakI7QUFDRSxZQUFJQyxtQkFBbUJDLE9BQU9DLE1BQVAsQ0FDckIsRUFEcUIsRUFFckJOLE1BQU1PLFVBRmUsRUFHckJQLE1BQU1PLFVBQU4sQ0FBaUJOLE9BQU9PLE1BQXhCLEVBQWdDQyxNQUFoQyxDQUF1QyxDQUFDUixPQUFPUyxPQUFSLENBQXZDLENBSHFCLENBQXZCO0FBS0EsWUFBSUMsbUJBQW1CTixPQUFPQyxNQUFQLENBQ3JCLEVBRHFCLEVBRXJCTixNQUFNWSxVQUZlLEVBR3JCWixNQUFNWSxVQUFOLENBQWlCWCxPQUFPUyxPQUF4QixFQUFpQ0QsTUFBakMsQ0FBd0MsQ0FBQ1IsT0FBT08sTUFBUixDQUF4QyxDQUhxQixDQUF2QjtBQUtBLGVBQU87QUFDTEQsc0JBQVlILGdCQURQO0FBRUxRLHNCQUFZRDtBQUZQLFNBQVA7QUFJRixXQUFLLHFCQUFZRSxpQkFBakI7QUFDRSxZQUFJVCxtQkFBbUJDLE9BQU9DLE1BQVAsQ0FDckIsRUFEcUIsRUFFckJOLE1BQU1PLFVBRmUsRUFHckJQLE1BQU1PLFVBQU4sQ0FBaUJOLE9BQU9PLE1BQXhCLEVBQWdDTSxNQUFoQyxDQUF1Q0MsT0FBUUEsUUFBUWQsT0FBT1MsT0FBOUQsQ0FIcUIsQ0FBdkI7QUFLQSxZQUFJQyxtQkFBbUJOLE9BQU9DLE1BQVAsQ0FDckIsRUFEcUIsRUFFckJOLE1BQU1ZLFVBRmUsRUFHckJaLE1BQU1ZLFVBQU4sQ0FBaUJYLE9BQU9TLE9BQXhCLEVBQWlDSSxNQUFqQyxDQUF3Q0UsT0FBUUEsUUFBUWYsT0FBT08sTUFBL0QsQ0FIcUIsQ0FBdkI7QUFLQSxlQUFPO0FBQ0xELHNCQUFZSCxnQkFEUDtBQUVMUSxzQkFBWUQ7QUFGUCxTQUFQO0FBSUY7QUFDRSxlQUFPWCxLQUFQO0FBaENKO0FBa0NEOztVQUVRRCxXLEdBQUFBLFciLCJmaWxlIjoibWFpblJlZHVjZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgeyBBY3Rpb25UeXBlcyB9IGZyb20gJy4uL2FjdGlvbnMvYWN0aW9ucydcclxuaW1wb3J0IHV0aWwgZnJvbSAnLi4vbWlzYy91dGlsJztcclxuXHJcbmZ1bmN0aW9uIG1haW5SZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcclxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICBjYXNlIEFjdGlvblR5cGVzLlVTRVJfRU5URVJTX0dST1VQOlxyXG4gICAgICB2YXIgdXBkYXRlZFVzZXJHcm91cCA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAge30sXHJcbiAgICAgICAgc3RhdGUudXNlcl9ncm91cCxcclxuICAgICAgICBzdGF0ZS51c2VyX2dyb3VwW2FjdGlvbi5pZFVzZXJdLmNvbmNhdChbYWN0aW9uLmlkR3JvdXBdKVxyXG4gICAgICApO1xyXG4gICAgICB2YXIgdXBkYXRlZEdyb3VwVXNlciA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAge30sXHJcbiAgICAgICAgc3RhdGUuZ3JvdXBfdXNlcixcclxuICAgICAgICBzdGF0ZS5ncm91cF91c2VyW2FjdGlvbi5pZEdyb3VwXS5jb25jYXQoW2FjdGlvbi5pZFVzZXJdKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBcclxuICAgICAgICB1c2VyX2dyb3VwOiB1cGRhdGVkVXNlckdyb3VwLFxyXG4gICAgICAgIGdyb3VwX3VzZXI6IHVwZGF0ZWRHcm91cFVzZXIsXHJcbiAgICAgIH07XHJcbiAgICBjYXNlIEFjdGlvblR5cGVzLlVTRVJfTEVBVkVTX0dST1VQOlxyXG4gICAgICB2YXIgdXBkYXRlZFVzZXJHcm91cCA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAge30sXHJcbiAgICAgICAgc3RhdGUudXNlcl9ncm91cCxcclxuICAgICAgICBzdGF0ZS51c2VyX2dyb3VwW2FjdGlvbi5pZFVzZXJdLmZpbHRlcihnSWQgPT4gKGdJZCAhPT0gYWN0aW9uLmlkR3JvdXApKVxyXG4gICAgICApO1xyXG4gICAgICB2YXIgdXBkYXRlZEdyb3VwVXNlciA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAge30sXHJcbiAgICAgICAgc3RhdGUuZ3JvdXBfdXNlcixcclxuICAgICAgICBzdGF0ZS5ncm91cF91c2VyW2FjdGlvbi5pZEdyb3VwXS5maWx0ZXIodUlkID0+ICh1SWQgIT09IGFjdGlvbi5pZFVzZXIpKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBcclxuICAgICAgICB1c2VyX2dyb3VwOiB1cGRhdGVkVXNlckdyb3VwLFxyXG4gICAgICAgIGdyb3VwX3VzZXI6IHVwZGF0ZWRHcm91cFVzZXIsXHJcbiAgICAgIH07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBtYWluUmVkdWNlciB9OyJdfQ==